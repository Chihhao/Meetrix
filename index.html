<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meetrix | 首頁</title>
    <link rel="stylesheet" href="common.css">
    <link rel="stylesheet" href="index.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css">
    <link rel="icon" type="image/svg+xml" href='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><rect rx="12" width="64" height="64" fill="%23009688"/><rect x="8" y="14" width="48" height="12" fill="%23ffffff"/><rect x="12" y="30" width="12" height="12" fill="%23ffffff"/><rect x="26" y="30" width="12" height="12" fill="%23ffffff"/><rect x="40" y="30" width="12" height="12" fill="%23ffffff"/><rect x="12" y="44" width="12" height="12" fill="%23ffffff"/><rect x="26" y="44" width="12" height="12" fill="%23ffffff"/><rect x="40" y="44" width="12" height="12" fill="%23ffffff"/></svg>'>
</head>
<body id="page-landing">
    <div id="matrix-bg"></div>
    <div class="landing-container">
        <div class="brand-large">Meetrix</div>
        <p class="brand-slogan"><span class="slogan-emph">矩陣式</span>極速媒合會議時間</p>

        <div class="action-cards">
            <!-- 卡片 1: 發起會議 -->
            <a href="kickoff.html" class="action-card card-create">
                <div class="icon"><span class="mdi mdi-rocket-launch-outline"></span></div>
                <h3>發起會議</h3>
                <ul>
                    <li>建立新調查單</li>
                    <li>設定與會人員</li>
                </ul>
                <span class="btn-fake">開始建立 &rarr;</span>
            </a>
        
            <!-- 卡片 2: 我的會議 -->
            <a href="my.html" class="action-card card-vote">
                <div class="icon"><span class="mdi mdi-calendar-clock-outline"></span></div>
                <h3>我的會議</h3>
                <ul>
                    <li>參與會議時間投票</li>
                    <li>查詢歷史會議</li>
                </ul>
                <span class="btn-fake">前往清單 &rarr;</span>
            </a>
        </div>
        
        <footer class="landing-footer">
            本系統之表單內容可能涉及個人資料，僅限公司業務範圍內使用。
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const bg = document.getElementById('matrix-bg');
            const cellSize = 40; // 必須與 CSS 中的 width/height 一致

            // 初始化網格
            function initGrid() {
                bg.innerHTML = '';
                const cols = Math.ceil(window.innerWidth / cellSize);
                const rows = Math.ceil(window.innerHeight / cellSize);
                const total = cols * rows;

                const fragment = document.createDocumentFragment();
                for (let i = 0; i < total; i++) {
                    const cell = document.createElement('div');
                    cell.classList.add('matrix-cell');
                    fragment.appendChild(cell);
                }
                bg.appendChild(fragment);
            }

            // 隨機呼吸效果
            function breathe() {
                const cells = bg.children;
                if (cells.length === 0) return;
                
                // 隨機挑選一個格子
                const idx = Math.floor(Math.random() * cells.length);
                const cell = cells[idx];
                
                // 點亮並在隨機時間後熄滅
                cell.classList.add('active');
                setTimeout(() => {
                    cell.classList.remove('active');
                }, 1500 + Math.random() * 1500); // 亮起維持 1.5~3 秒
            }

            // 執行初始化與監聽
            initGrid();
            
            // 視窗改變大小時重繪 (簡單防抖動可視需求加入)
            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(initGrid, 200);
            });

            // 啟動呼吸循環 (每 100ms 嘗試點亮一個新格子)
            setInterval(breathe, 100);
        });
    </script>
</body>
</html>
